<view class='my-page square'>

    <view class='raking'>

        <navigator  url='/pages/square/punch/punch'  class='left flex-text'>
            <image src='/images/icon-square-1.png'></image>
                打卡榜
        </navigator>

        <navigator  url='/pages/square/thumb/thumb'  class='right flex-text'>
            <image src='/images/icon-square-2.png'></image>
                点赞榜
        </navigator>
    </view>

    <view class='my-tab'>
        <view bindtap="toTab" data-tab='0' class="{{tab==0?'on':''}}">
            早读
        </view>
        <view bindtap="toTab" data-tab='1' class="{{tab==1?'on':''}}">
            晚讲
        </view>
    </view>

    <view wx:if="{{data && data.length > 0}}" class='my-list'>
        <block wx:for="{{data}}" wx:for-index="idx" wx:key="item" >
                
                <view class='li'>
                    <view class='recom' hidden='{{!item.isRecommend}}' >
                        推荐 
                    </view>
                    <view class='top'>
                        <view class='left flex-text' >
                            <image class='head' src='{{item.avatarUrl}}'></image>
                            {{item.nickName}}
                        </view>
                        <button bindtap="goFollow" data-index='{{idx}}' class='follow-button' >
                            {{item.isFollow ? "取关" : "关注"}}
                        </button>
                    </view>



                    <view class='content'>

                        <view class='left' >
                                <navigator url='/pages/audio/audio?id={{item.id}}'  class='title' >
                                    {{item.title}}
                                </navigator>
                                <view class='time' >
                                    {{item.createTime}}
                                </view>
                        </view>

                        <image bindtap="play" data-index='{{idx}}'  src='/images/icon-square-3{{item.isPlay?"-on":""}}.png'>
                        </image>
                    </view>


                    <view class='operation flex-text' >

                        <view bindtap="goForward" data-index='{{idx}}' class='view flex-text' >
                            <image src='/images/icon-square-4.png' ></image>
                        </view>

                        <view bindtap="goCollection" data-index='{{idx}}' class='view flex-text' >
                            <image src='/images/icon-square-5{{item.isCollection ? "-on":""}}.png' ></image>
                        </view>

                        <navigator url='/pages/audio/audio?id={{item.id}}&comment=1' class='view flex-text' >
                            <image src='/images/icon-square-6.png' ></image>
                             {{item.comments}}
                        </navigator>

                        <view bindtap="goThumb" data-index='{{idx}}' class='view flex-text' >
                            <image src='/images/icon-square-7{{item.isThumb ? "-on":""}}.png' ></image>
                             {{item.thumbs}}
                        </view>

                    </view>

                </view>
        </block>
    </view>
    <view wx:else class='my-list'>
            <view class='my-nodata' >
                暂无数据
            </view>
    </view>


</view>